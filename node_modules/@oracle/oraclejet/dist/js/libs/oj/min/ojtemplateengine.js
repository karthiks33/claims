/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";define(["knockout","ojs/ojcore","ojs/ojkoshared","ojs/ojhtmlutils"],function(t,e,n,r){return new function(){this.execute=function(e,n,r,o){var i=a(n),l=n.getAttribute("data-oj-as");return t.applyBindingsToDescendants(u(e,r,o,l),i),Array.prototype.slice.call(i.childNodes,0)},this.clean=function(e){return t.cleanNode(e)},this.resolveProperties=function(r,l,s,c,p,v,d,f){var h=u(r,p,v,l.getAttribute("data-oj-as")),g=function(t,r,i,u,l){var s=o.get(t);if(!s){s={},o.set(t,s);var c=a(t),p=c.querySelector(i);s.evalMap=function(t,r,o){for(var i=new Map,a=t?t.attributes:[],u=0;u<a.length;u++){var l=a[u],s=e.__AttributeUtils.attributeToPropertyName(l.name),c=s.split(".");if(r.has(c[0])){var p=e.__AttributeUtils.getExpressionInfo(l.value),v=p.expr;v&&i.set(c,n.createBindingExpressionEvaluator(v,o))}}return i}(p,u,r),s.staticMap=function(t,e,n){var r={};if(t){var o=t.style;o.display="none",o.position="absolute",t.setAttribute("data-oj-binding-provider","none"),n.appendChild(t),e.forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),n.removeChild(t)}return r}(p,u,l)}return s}(l,h,s,c,f||r),b={};g.evalMap.forEach(function(e,n){var r=t.ignoreDependencies(i,null,[e,h]);d&&d(n,r),b[n[0]]=function(t,e,n){if(e.length<2)return n;for(var r=t[e[0]]||{},o=r,i=e.length-1,a=1;a<i;a++){var u=e[a],l=o[u]||{};o[u]=l,o=l}return o[e[i]]=n,r}(b,n,r)});var j=e.CollectionUtils.copyInto,y=j({},g.staticMap,null,!0);return y=j(y,b,null,!0)};var o=new WeakMap;function i(e,n){return t.utils.unwrapObservable(e(n))}function a(t){for(var e=document.createElement("div"),n=r.getTemplateContent(t),o=0;o<n.length;o++)e.appendChild(n[o]);return e}function u(e,r,o,i){var a=t.contextFor(e);return n.extendBindingContext(a,r,o,i,e)}}});